language: java
jdk:
- oraclejdk8
install:
- mvn install -DskipTests=true -Dmaven.javadoc.skip=true -B -V
script:
- mvn test
- "./mvnw clean install -B"
- "./mvnw clean org.jacoco:jacoco-maven-plugin:prepare-agent package sonar:sonar"
env:
  global:
  - secure: rkRjEz9PaAaXak9MF+HqpLwEeVaszepQGETc2bKiAW62CiZjLJxr8beOB9QaxJQiGQyAM0V+pXGAMMJ/oi6YV5lLYat7u7434PSRvQ3RMFB+mNn0aBp2fPP0RVa4bQU7O/v6e1O56cyixzufIOX0S3cO3t3xi6GGK+N6BOdnSi8LeY6Nx1k0PmIcyBdFF0Bo1gJF8OufY2KqJ/9kGVXcyzjMuwV7llwvbnR/XaGa3J1gTDZkJBK99Eq8J5w55YBRDARalt37hxwAGaN7V6vamQkgc0aAc2NMfZGMaslXaBLc7qzo+sFj/hVM4KQsBoPGmFs4XqLaKc/ouQoN4ODh4phhv2K4XzPj6jBesxmufOAmzAxPel5nz93aum53bmWF9FSat+UI7FKpHyGpFT6LlELE49b9yaXfd1+ufgdXNzS5HBEKz9fO7CoNDU7oob1Plixpg8J9Hr7hTvr6TzD+DS132MhoIlWcV+ml82MxeAHn9MYZ4xT8nZnu1mrDLs23U1VrtFmtgShBHFNO/FmI8Nu+BLuT2wXhhf3YgLHRsEYJnUUbRkYRiLSdmupZo7ZYY3VdKAeHhBdZowpFCiwYsw4ZUAavlW1yd6wEcgML4qBNaeZW/QnwkHg+cRq3acOFLOPUO4gQBLiBVCbpPovCi5jeS1+pUjC1XASMkUgeTK8=
addons:
  sonarcloud:
    organization: annaodziemczyk-github
    token:
      secure: "$SONAR_TOKEN"
before_install:
- chmod +x mvnw
deploy:
  provider: cloudfoundry
  api: https://api.run.pivotal.io
  username: anna.odziemczyk@mycit.ie
  password:
    secure: bm74JzJ9IIUe6zP0rpGpmpPUnIXqjz+8q2mJjTgiYRyJ9OQnwJWHwjx47jspDZK2T1wFlGOr4xZ6V1pZm5jqGbjx5FbiVMxG5zznRPMOVhy5Xb3QJq5oa1DlQyQUWx+pXDPWOWxCjWEaHOURYRJ3l1TiAKzL4JFcYVuqO6iuKmT8uHqNjBGOFXspRzBCXn580q3zghBbZnK2sbOucTwutcpp5FALJttPYWKeZE8quhCHjmyGmv++LnIJ/8Z0oy+iWVOXDkgCpMaeQe9/VOAHMJYHBUmIKPUU4gAVz5oqxPbP7qM5024h4eq40Q6asRchBqZ0uywI2UVq1vn82jihNYvaRLS47Z2Eg8BQlBfBd67RjnNFKLyl2u7lEG+PGC7ZlBIMkW4OnHa4RgDb7I8NDH3Dgn98G5AqvfoUhmDsbLhIruzRB5uyh2+7Ibj9BzaOpZA6lEET4qU3Wxlc67voSGUq2/alMj1s0ysd3vXHjNLHOKt4WFjXI3RW74JsGTbD3mgzIbqtPqbOrBIy82p9DEqdgPil5xAcsj+ENlkah2KRTbkS6TF+y6lal/kxIUAa7+a0/in7uxqg1GAbHhYwrXv+5vKv3U9hb3+frNYgNDBcMEMge3n+TdzLSYA3AAWnmVpBCTWhfKn2NlcHTb+lx75qTolxDuX9zbTJ/YVLNnE=
  organization: anna.odziemczyk-org
  space: development
  on:
    repo: annaodziemczyk/rfid-clone-inspector
